# Практическая работа №1 Отчёт
## Проектирование приложения
К проектированию был выбран проект PocketDictionary - приложение-словарь, которое позволяет пользователю найти определение английского слова, сохранить его в личную коллекцию для изучения и получить умные подсказки для дальнейших действий.
Разделение по возможностям для разных типов пользователей выглядит следующим образом:
- Гостевой пользователь:
  - Может вводить слово и искать его определение;
  - Видит результат поиска: определение, транскрипцию.
- Авторизованный пользователь:
  - Имеет все возможности гостя;
  - Может сохранять слова в свой личный список "Избранное";
  - Может просматривать свой список избранных слов;
  - Может удалять слова из избранного.
Следующим этапом работы была разработка USECASE диаграммы.

<img width="929" height="834" alt="image" src="https://github.com/user-attachments/assets/269310f3-5818-4e39-9261-dd4411145014" />

Далее следует декомпозиция приложения на слои. Схема разбиения представлена ниже.

<img width="1600" height="900" alt="Untitled diagram _ Mermaid Chart-2025-10-01-124815" src="https://github.com/user-attachments/assets/dad7010c-d59f-4337-9110-095f266b9a1f" />

## Реализация каркаса приложения
Для работы с каркасом приложения был создан новый проект "MoviePorject".
Был реализован экран, состоящий из элементов `TextView`, `EditTest` и двух кнопок.

<img width="568" height="937" alt="image" src="https://github.com/user-attachments/assets/2f5d3622-3283-41ba-abaa-7a83ec949892" />

Далее была настроена структура проекта, содержащая соотвествующие заданию слои:

<img width="897" height="819" alt="image" src="https://github.com/user-attachments/assets/289c885b-9eb9-4f8e-a528-45c534160a33" />

Создание начального каркаса: в пакете domain/models был создан класс `Movie`, описывающий сущность фильма; 
в пакете domain/usecases были созданы классы `GetFavoriteFilmUseCase` и `SaveFilmToFavoriteUseCase`; в пакете data/repository был создан класс `MovieRepository`, возвращающий "заглушечные" данные.

Далее следовало введение интерфейса. В пакете domain/repository был создан интерфейс `MovieRepository`. Этот интерфейс выступил в роли "контракта", который определяет, какие методы для работы с данными должны существовать, но не указывает, как они реализованы. Класс в data/repository был переименован в `MovieRepositoryImpl` и модифицирован так, чтобы он реализовывал интерфейс `MovieRepository`. Классы `GetFavoriteFilmUseCase` и `SaveFilmToFavoriteUseCase` были изменены. Вместо того чтобы содержать собственную логику, они стали принимать в конструкторе зависимость от интерфейса MovieRepository и делегировать ему всю работу с данными.

Дополнительно, осуществлена реализация сохранения данных с помощью SharedPreferences.
В класс была добавлена зависимость от Context, передаваемая через конструктор. Внутри класса Context используется для инициализации SharedPreferences. Методы `saveMovie()` и `getMovie()` были переписаны для реальной записи и чтения данных из SharedPreferences.
В presentation-слое, при создании экземпляра MovieRepositoryImpl, в его конструктор был передан контекст текущей Activity (this).

<img width="350" height="700" alt="image" src="https://github.com/user-attachments/assets/7f6d1ed9-f27a-40d7-a165-32f967463bda" /><img width="350" height="700" alt="image" src="https://github.com/user-attachments/assets/cf401de2-87ba-4956-9b0b-89ba32686519" />

## Контрольное задание
Был создан новый проект PocketDictionary. Как и в прошлом задании, для проекта выбла выстроена структура согласно схеме декомпозиции на слои.
Созданы следующие пакеты:
- domain: для бизнес-логики, не зависящей от фреймворков;
- data: для конкретной реализации работы с данными;
- presentation: для UI-логики и взаимодействия с пользователем.

### Реализация domain-слоя

В пакете domain/model был создан класс WordDefinition, инкапсулирующий в себе основные данные — слово (word) и его определение (definition).
В пакете domain/repository был создан интерфейс WordRepository. Он определяет "контракт", которому должен следовать любой источник данных, объявляя методы getDefinition(String word) и saveWordToFavorites(WordDefinition word).
В пакете domain/usecase были созданы классы, отвечающие за конкретные действия пользователя:
- `GetWordDefinitionUseCase`: Принимает в конструкторе зависимость от интерфейса WordRepository и содержит единственный метод execute(), который делегирует получение данных репозиторию;
- `SaveFavoriteWordUseCase`: Аналогично реализует логику сохранения слова, также работая с репозиторием через интерфейс.

### Реализация data-слоя

В пакете data/repository был создан класс `WordRepositoryImpl`, который реализует интерфейс WordRepository из domain-слоя.
Метод `getDefinition()` был реализован так, что он игнорирует входящее слово и всегда возвращает заранее подготовленный объект WordDefinition с тестовой строкой-определением. Метод `saveWordToFavorites()` был реализован так, что он выводит сообщение в лог и всегда возвращает true, имитируя успешное завершение операции.

### Реализация presentation-слоя

В файле activity_main.xml был сверстан макет, включающий `EditText` для ввода слова, `TextView` для отображения результата и две Button ("Search", "Save to Favorites").

Реализована логика MainActivity: в методе onCreate был создан экземпляр WordRepositoryImpl из data-слоя. Этот экземпляр был передан в конструкторы классов GetWordDefinitionUseCase и SaveFavoriteWordUseCase при их создании. Таким образом, domain-слой получил конкретную реализацию для своей работы.

На кнопки "Search" и "Save to Favorites" были установлены слушатели (setOnClickListener), которые вызывают метод execute() у соответствующего UseCase и отображают полученный результат в TextView или через Toast.

<img width="300" height="700" alt="image" src="https://github.com/user-attachments/assets/af8b97fc-02f3-42a5-8d6c-d46a31e5177e" /><img width="300" height="700" alt="image" src="https://github.com/user-attachments/assets/b5a6dda6-56a5-416c-aef2-274aa5060fd7" /><img width="300" height="700" alt="image" src="https://github.com/user-attachments/assets/be3cd615-4e95-4a10-a0b0-de8cb2fed788" />







